<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Register</title>
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
			integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
			crossorigin="anonymous" />
		<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
		<style>
			body {
				background-color: #f8f9fa; /* Light grey background for modern look */
			}
			h2 {
				text-align: center;
				margin-bottom: 20px;
				color: #333;
			}
			.form-container {
				background-color: white;
				padding: 30px;
				border-radius: 8px;
				box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
			}
			.btn-primary {
				background-color: #007bff;
				border-color: #007bff;
			}
			.btn-primary:hover {
				background-color: #0056b3;
				border-color: #004080;
			}
		</style>
	</head>

	<body>
		<div class="container mt-5">
			<div class="row justify-content-center">
				<div class="col-md-6">
					<div class="form-container">
						<h2>Create an Account</h2>
						<form action="{{ qr_code_page_url }}" method="POST" novalidate>
							<div class="mb-3">
								<label for="username" class="form-label">Username</label>
								<input
									type="text"
									pattern="^[a-z]{1,64}$"
									title="Username must be 1-64 characters long, and can contain only lowercase letters"
									class="form-control"
									id="username"
									name="username"
									placeholder="Enter your username"
									required />
								<div class="invalid-feedback">
									Username should be 1-64 characters long and contain only lowercase letters.
								</div>
							</div>
							<div class="d-grid">
								<button type="submit" class="btn btn-primary" id="submitBtn">
									Generate QR Code
								</button>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>

		<script>
			// Enable client-side validation
			(function () {
				'use strict';
				window.addEventListener('load', function () {
					var forms = document.getElementsByTagName('form');
					Array.prototype.filter.call(forms, function (form) {
						form.addEventListener('submit', function (event) {
							if (form.checkValidity() === false) {
								event.preventDefault();
								event.stopPropagation();
							}
							form.classList.add('was-validated');
						}, false);
					});
				}, false);
			})();
		</script>
	</body>
</html>
